"use strict";function add(e){e.preventDefault();var n=$("#choice-field"),o=n.val().replace(/ /g,"").length;o>0?(choices.push(n.val()),updatePage(n)):swal("Please type in a choice")}function updatePage(e){$("#choice-list-container").append("<p id='list-preview"+choices.length+"' class='btn btn-info' >"+e.val()+"</p>"),$("#list-preview"+choices.length).hide(),$("#list-preview"+choices.length).fadeIn(500),$("#list-preview"+choices.length).css("visibility","visible"),e.val("")}function decide(e){e.preventDefault(),choices.length<=1?swal("Please add more than 1 choices to choose from."):getRandomNumberFromAPI(choices.length,function(e){var n=e-1;getNumberTriviaFromAPI(e,function(o){var c="Choice number "+e+" has been chosen:\t",a=choices[n],i=o.text;swal(c+a,"Fun Fact:\t"+i),cleanUp()})})}function cleanUp(){choices=[],$("#choice-list-container").html(""),$("#choice-field").val("")}function getRandomNumberFromAPI(e,n){$.ajax({url:"https://api.random.org/json-rpc/1/invoke",beforeSend:function(e){e.setRequestHeader("Content-Type","application/json-rpc")},type:"POST",dataType:"json",data:JSON.stringify({jsonrpc:"2.0",method:"generateIntegers",params:{apiKey:"5c868d24-5e66-4927-942f-095abd761219",n:1,min:1,max:e,replacement:!0},id:1})}).done(function(e){try{n(e.result.random.data[0])}catch(o){var c=o.message;swal("An error has occured :( Here is the error message:\n"+c),console.log(c),cleanUp()}}).fail(function(e){var n=e.message;swal("An error has occured :( Here is the error message:\n"+n),console.log(e.getAllResponseHeaders()),console.log(n)})}function getNumberTriviaFromAPI(e,n){var o="http://numbersapi.com/"+e+"/?json";$.ajax({url:o,type:"GET"}).done(function(e){n(e)}).fail(function(e){var n=e.message;swal("An error has occured :( Here is the error message:\n"+n),console.log(e.getAllResponseHeaders()),console.log(n)})}var choices=[];$("#add-choice").click(function(e){add(e)}),$("#choose").click(function(e){decide(e)}),$("#choice-field").keyup(function(e){13==e.keyCode&&add(e)});