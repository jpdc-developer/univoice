"use strict";function add(){var e=$("#decision-field"),n=e.val().replace(/ /g,"").length;n>0?(decisions.push(e.val()),updatePage(e)):swal("Please type in a choice")}function updatePage(e){$("#decision-list-container").append("<p id='list-preview'"+decisions.length+"' class='btn btn-info' >"+e.val()+"</p>"),$("#list-preview"+decisions.length).hide(),$("#list-preview"+decisions.length).css("visibility","visible"),$("#list-preview"+decisions.length).slideDown(),e.val("")}function decide(){decisions.length<=1?swal("Please add more than 1 choices to choose from."):getRandomNumberFromAPI(decisions.length,function(e){var n=e-1;getNumberTriviaFromAPI(e,function(i){swal("Choice number "+e+" has been chosen:\n"+decisions[n]+"\n\nFun Fact\n"+i.text),cleanUp()})})}function cleanUp(){decisions=[],$("#decision-list-container").html("")}function getRandomNumberFromAPI(e,n){$.ajax({url:"https://api.random.org/json-rpc/1/invoke",beforeSend:function(e){e.setRequestHeader("Content-Type","application/json-rpc")},type:"POST",dataType:"json",data:JSON.stringify({jsonrpc:"2.0",method:"generateIntegers",params:{apiKey:"5c868d24-5e66-4927-942f-095abd761219",n:1,min:1,max:e,replacement:!0},id:1})}).done(function(e){try{n(e.result.random.data[0])}catch(i){swal("An error has occured :( Here is the error message:\n"+i),cleanUp()}}).fail(function(e){pageheader.innerHTML="Sorry, something went wrong. :( Try again in a bit?",console.log(e.getAllResponseHeaders())})}function getNumberTriviaFromAPI(e,n){var i="http://numbersapi.com/"+e+"/?json";$.ajax({url:i,type:"GET"}).done(function(e){return n(e),e}).fail(function(e){pageheader.innerHTML="Sorry, something went wrong. :( Try again in a bit?",console.log(e.getAllResponseHeaders())})}var decisions=[];document.getElementById("decision-field").onkeyup=function(e){13==e.keyCode&&add()};